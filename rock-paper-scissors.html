<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="UTF-8">
  <title>Rock Paper Scissors Part 2
  </title>
</head>

<body>

  <div id="game">
    <h1>Play Rock Paper, Scissors</h1>
        <h2>To Play press :</h2>
        <ul>
            <li>r for Rock</li>
            <li>p for Paper</li>
            <li>s for scissors</li>
        </ul>
  </div>

  <script type="text/javascript">

    // Creates an array that lists out all of the options (Rock, Paper, or Scissors).
    var computerChoices = ["r", "p", "s"];

    function writeMessage (message){
      var w = window.open("", "MsgWindow", "width=225, height=150");
      //w.document.open();
      w.document.write("<P>"+ message + "</P>");
             w.document.close();
    }

    function playGame(userGuess){
      var userchoice = '';

      // Randomly chooses a choice from the options array. This is the Computer's guess.
      var computerGuess = computerChoices[Math.floor(Math.random() * computerChoices.length)];
    
      //validate userchoice computerChoices
      if ( computerChoices.indexOf(userGuess) > -1 ) {
        // ... Play Game... 
   //     alert("User played : " + userGuess);
        var usertext = "User played : <B>" + userGuess + "</B><BR>";
        // Alerts the Computer's guess.
 //       alert("Computer guess: " + computerGuess);
        var computertext = "Computer played : <B>" + computerGuess + "</B><BR>";
        var outtext = usertext + computertext + '<BR>';
        if (userGuess != computerGuess){
            if (userGuess === "r"){
                if(computerGuess == "p"){
                    writeMessage(outtext + 'ğŸ’©<I>Computer Wins!</I>ğŸ’©');
                    } else{
                        writeMessage(outtext + 'ğŸ˜Š<B>User Wins!ğŸ˜Š</B>');
                    }
                }
                else if(userGuess === "p"){
                    if(computerGuess === "s"){
                        writeMessage(outtext + 'ğŸ’©<I>Computer Wins!</I>ğŸ’©');
                    }else{ 
                        writeMessage(outtext + 'ğŸ˜Š<B>User Wins!</B>ğŸ˜Š');
                            }
                        }
                        else if(userGuess === "s"){
                        if(computerGuess === "r"){
                            writeMessage(outtext + 'ğŸ’©<I>Computer Wins!</I>ğŸ’©');
                        }
                        else{
                            writeMessage(outtext + 'ğŸ˜Š<B>User Wins!ğŸ˜Š</B>');
                        }
                        }
                        else{
                            writeMessage(outtext + "Please press only r, p or s");
                        }
                    }
                    else{
                        writeMessage(outtext + "ğŸ¤·<B>It's a tie!</B>ğŸ¤·");
                    }
            return true
      } else {
      // end function if event is not valid for game).
        return false
      }
 
    }
    // This function is run whenever the user presses a key.
    document.onkeyup = function(event) {

      // Determines which key was pressed.
      var userGuess = event.key;

        playGame(userGuess);
    };
  </script> 

</body>

</html>
